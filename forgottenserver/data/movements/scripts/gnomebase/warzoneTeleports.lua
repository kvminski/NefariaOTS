local teleGnome = {
	--{posCrystal = {x=853,y=1763,z=8}, posGo = {x=882,y=1724,z=8}, needItem = false, idItem = 18457}, -- do crystal de gnome base para kazordon
	{posCrystal = {x=818,y=1709,z=8}, posGo = {x=888,y=1727,z=8}, needItem = false, idItem = 18457}, -- do crystal de kazordon para gnome base
	--{posCrystal = {x=32772,y=31776,z=9}, posGo = {x=32402,y=32817,z=6}, needItem = false, idItem = 18457}, -- do crystal de gnome base para liberty bay
	--{posCrystal = {x=32403,y=32818,z=6}, posGo = {x=32774,y=31775,z=9}, needItem = false, idItem = 18457}, -- do crystal de liberty bay para gnome base
	--{posCrystal = {x=32786,y=31754,z=9}, posGo = {x = 32194, y = 31183, z = 8}, needItem = false, idItem = 18457}, -- do crystal de gnome base para svargrond
	--{posCrystal = {x = 32196, y = 31183, z = 8}, posGo = {x=32787,y=31755,z=9}, needItem = false, idItem = 18457}, -- do crystal de svargrond para gnome base
	--{posCrystal = {x=32827,y=31757,z=9}, posGo = {x=33185,y=32384,z=8}, needItem = false, idItem = 18457}, -- do crystal de gnome base para darashia
	--{posCrystal = {x=33187,y=32384,z=8}, posGo = {x=32826,y=31759,z=9}, needItem = false, idItem = 18457}, -- do crystal de darashia para gnome base
	--{posCrystal = {x=32831,y=31797,z=9}, posGo = {x=33153,y=31832,z=10}, needItem = false, idItem = 18457}, -- do crystal de gnome base para edron
	--{posCrystal = {x=33154,y=31834,z=10}, posGo = {x=32830,y=31796,z=9}, needItem = false, idItem = 18457}, -- do crystal de edron para gnome base
	--{posCrystal = {x=32805,y=31743,z=9}, posGo = {x=32331,y=32173,z=9}, needItem = false, idItem = 18457}, -- do crystal de gnome base para thais
	--{posCrystal = {x=32330,y=32173,z=9}, posGo = {x=32806,y=31745,z=9}, needItem = false, idItem = 18457}, -- do crystal de thais para gnome base
	{posCrystal = {x=877,y=1744,z=8}, posGo = {x=935,y=1830,z=8}, needItem = false, idItem = 18457}, -- do crystal de gnome base para gnome alpha

	{posCrystal = {x=936,y=1829,z=8}, posGo = {x=877,y=1743,z=8}, needItem = false, idItem = 18457}, -- do crystal de gnome alpha para gnome base

	{posCrystal = {x=876,y=1725,z=8}, posGo = {x=955,y=1776,z=8}, needItem = false, idItem = 18457}, -- do crystal de gnome base para crystal ground

	{posCrystal = {x=955,y=1777,z=8}, posGo = {x=876,y=1726,z=8}, needItem = false, idItem = 18457}, -- do crystal de crystal ground para gnome base

	{posCrystal = {x=884,y=1709,z=8}, posGo = {x=1011,y=1715,z=8}, needItem = false, idItem = 18457}, -- do crystal de gnome base para truffels garden

	{posCrystal = {x=1011,y=1716,z=8}, posGo = {x=884,y=1710,z=8}, needItem = false, idItem = 18457}, -- do crystal de truffels garden para gnome base

	--{posCrystal = {x=963,y=1848,z=8}, posGo = {x=946,y=1890,z=9}, needItem = false, idItem = 18457}, -- do crystal de Gnome alpha para WARZONE 1

	--{posCrystal = {x=946,y=1891,z=9}, posGo = {x=963,y=1849,z=8}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 1 para Gnome alpha

	--{posCrystal = {x=953,y=1886,z=9}, posGo = {x=958,y=1890,z=9}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 1 DENTRO para WARZONE 1 FORA

	--{posCrystal = {x=957,y=1889,z=9}, posGo = {x=952,y=1886,z=9}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 1 FORA para WARZONE 1 DENTRO

	--{posCrystal = {x=969,y=1854,z=8}, posGo = {x=961,y=1911,z=10}, needItem = false, idItem = 18457}, -- do crystal de Gnome alpha para WARZONE 2

	--{posCrystal = {x=961,y=1912,z=10}, posGo = {x=969,y=1855,z=8}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 2 para Gnome alpha

	--{posCrystal = {x=961,y=1904,z=10}, posGo = {x=964,y=1901,z=10}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 2 DENTRO para WARZONE 2 FORA

	--{posCrystal = {x=963,y=1902,z=10}, posGo = {x=960,y=1905,z=10}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 2 FORA para WARZONE 2 DENTRO

	--{posCrystal = {x=972,y=1870,z=8}, posGo = {x=939,y=1877,z=11}, needItem = false, idItem = 18457}, -- do crystal de Gnome alpha para WARZONE 3

	--{posCrystal = {x=939,y=1876,z=11}, posGo = {x=971,y=1870,z=8}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 3 para Gnome alpha

	--{posCrystal = {x=943,y=1881,z=11}, posGo = {x=946,y=1885,z=11}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 3 DENTRO para WARZONE 3 FORA

	--{posCrystal = {x=945,y=1884,z=11}, posGo = {x=942,y=1880,z=11}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 3 FORA para WARZONE 3 DENTRO

	{posCrystal = {x=930,y=1875,z=8}, posGo = {x=812,y=1834,z=8}, needItem = false, idItem = 18457}, -- do crystal de gnome alpha para hot spot

	{posCrystal = {x=811,y=1834,z=8}, posGo = {x=929,y=1875,z=8}, needItem = false, idItem = 18457}, -- do crystal de hot spot para gnome alpha

	{posCrystal = {x=1054,y=1877,z=9}, posGo = {x=1053,y=1927,z=9}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 1 FORA BOSS para WARZONE 1 DENTRO BOSS

	--{posCrystal = {x=1072,y=1944,z=9}, posGo = {x=950,y=1867,z=8}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 1 DENTRO BOSS para GNOME ALPHA

	{posCrystal = {x=1047,y=1945,z=10}, posGo = {x=1060,y=1917,z=10}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 2 FORA BOSS para WARZONE 2 DENTRO BOSS

	--{posCrystal = {x=1078,y=1932,z=10}, posGo = {x=950,y=1867,z=8}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 2 DENTRO BOSS para GNOME ALPHA

	{posCrystal = {x=1023,y=1848,z=11}, posGo = {x=1033,y=1873,z=11}, needItem = false, idItem = 18457}, -- do crystal de WARZONE 3 FORA BOSS para WARZONE 3 DENTRO BOSS

	--{posCrystal = {x=1048,y=1879,z=11}, posGo = {x=950,y=1867,z=8}, needItem = false, idItem = 18457} -- do crystal de WARZONE 3 DENTRO BOSS para GNOME ALPHA
}

function onStepIn(cid, item, position, fromPosition)
if isPlayer(cid) then
	local posPlayer = position
	for i=1, #teleGnome do
		if teleGnome[i].posCrystal.x == posPlayer.x and teleGnome[i].posCrystal.y == posPlayer.y and teleGnome[i].posCrystal.z == posPlayer.z then
			if teleGnome[i].needItem then
				if doPlayerRemoveItem(cid, teleGnome[i].idItem, 1) then
					doTeleportThing(cid, teleGnome[i].posGo)
					doSendMagicEffect(teleGnome[i].posGo, 10)
				else		
					doTeleportThing(cid, fromPosition, true)	
					doPlayerSendCancel(cid, "You don't have one teleport crystal.")
				end
			else
				doTeleportThing(cid, teleGnome[i].posGo)
				doSendMagicEffect(teleGnome[i].posGo, 10)
			end
		end		
	end
end
return true
end